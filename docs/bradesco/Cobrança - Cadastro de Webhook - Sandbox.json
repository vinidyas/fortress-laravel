{"openapi":"3.0.1","info":{"title":"Cobrança - Cadastro de Webhook","description":"Esta API permite realizar o Cadastro de Webhook de Cobrança Convencional e/ou Cobrança Híbrida","version":"1.0.0"},"paths":{"/cadastrar":{"post":{"tags":["Cadastro de Webhook"],"summary":"Permite operação de inclusão, alteração, consulta e exclusão","operationId":"executarPost","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string","description":"Bearer Token do modelo de seguranca server-mtls","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c..."}}],"requestBody":{"content":{"application/json":{"schema":{"required":["documento","tipoAviso","tipoCadastro","urlEnvio","utilizaWebhook","versaoLayout"],"type":"object","properties":{"tipoAviso":{"maxLength":1,"type":"integer","description":"Tipo de Aviso","format":"int32"},"documento":{"required":["controle","cpfCnpj","filial"],"type":"object","properties":{"filial":{"maxLength":4,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Filial CPF/CNPJ do Beneficiário. Se CPF, filial = 0","example":"9999"},"cpfCnpj":{"maxLength":9,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Raiz CPF/CNPJ Beneficiário","example":"999999999"},"controle":{"maxLength":2,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Dígito de Controle do CPF/CNPJ Beneficiário","example":"99"}}},"utilizaWebhook":{"maxLength":2,"pattern":"^[S|N]$","type":"string","description":"Indicador de ativação do webhook - Permite usar 'S' ou 'N' ","example":"S"},"tipoCadastro":{"maxLength":1,"pattern":"^[I|A|C|E]$","type":"string","description":"I - Inclusão, A - Alteração, C - Consulta, E - Exclusão ","example":"I"},"versaoLayout":{"maxLength":1,"pattern":"^[0-9]*$","type":"string","description":"Versão autal do layout de registro","example":"1"},"urlEnvio":{"maxLength":100,"type":"string","description":"URL para envio da notificação","example":"https://dominio.com.br/webhook"}},"description":"Objeto de requisição para cadastro de Webhook"}}},"required":true},"responses":{"200":{"description":"#### <b>Operação realizada com sucesso.<b>","content":{"application/json":{"schema":{"type":"object","properties":{"datahoraAtualizacao":{"type":"string","description":"Data hora de criação do cadastro do webhook"},"utilizaWebhook":{"maxLength":2,"type":"string","description":"Indicador de ativação do webhook - Permite usar 'S' ou 'N' ","example":"N"},"urlEnvio":{"maxLength":100,"type":"string","description":"URL para envio da notificação","example":"https://dominio.com.br/webhook"}}}}}},"400":{"description":"#### <b>Dados de entrada inválidos</b>\nCaso seja retornado um body vazio. Necessário validar se os campos obrigatórios foram enviados.\n</br>\nCaso seja retornado um body similar ao do exemplo, conferir no guia do produto na seção de erros do endpoint, os possíveis erros de dados de entrada inválidos.\n","content":{"application/json":{"schema":{"type":"object","example":{"codigo":"1","mensagem":"Nao foi possivel processar as instrucoes contidas na requisicao","errosValidacao":{"campo":"Agencia","tipoRestricao":"EXACT_LENGTH","mensagem":"Numero de caracteres exatos nao atendidos","tamanhoMinimoEsperado":1,"tamanhoMaximoPermitido":5}}}}}},"401":{"description":"#### <b>Não autorizado</b>\nEstão listados abaixo 3 erros com suas descrições e retornos, devendo ser considerado como valor retornado pela api, somente o que estiver em value\n","content":{"application/json":{"schema":{"type":"object","example":{"Erro 1":{"description":"O header Authorization contendo o Bearer Token não foi enviado na requisição ou é inválido. Necessário o envio conforme orientado no Guia do Desenvolvedor.","value":{"code":"401","message":"O token não foi informado ou é inválido."}},"Erro 2":{"description":"O bearer token enviado no header Authorization não possui permissão (escopo da API) para consumo da API em questão. Necessário o envio de um token válido com a permissão (escopo da api) conforme orientado no Guia do Desenvolvedor","value":{"code":"401","message":"Acesso não autorizado"}},"Erro 3":{"description":"A requisição foi realizada sem o envio do certificado privado/público do requisitante para fechamento do MTLs. Necessário o envio do token com o par de certificados na request conforme orientado no Guia do Desenvolvedor","value":{"code":"401,","message":"Falha na autenticação mTLS"}}}}}}},"403":{"description":"#### <b>Proibido</b>\nErro retornado quando o usuário não possui permissão para consumir o recurso requisitado. Necessário vincular o recurso ao cadastro no Portal Developer.\n"},"404":{"description":"#### <b>Not Found</b>\nO endpoint chamado na request não existe na API a ser consumida. Necessário olhar no Portal do Desenvolvedor os endpoints disponiveis na API.\n"},"422":{"description":"#### <b>Erros negociais</b></br>\nOs possíveis códigos e mensagens de erros negociais podem ser encontrados no guia do produto na seção de erros do endpoint e para apoio, entrar em contato com o time de transações (suportetransacoes_api@bradesco.com.br)\n","content":{"application/json":{"schema":{"type":"object","properties":{"codigo":{"type":"string","description":"CPF/CNPJ não autorização para registro do WebHook","example":"422"},"mensagem":{"type":"string","description":"Messagem do erro negocial","example":"CODIGO DE BARRAS INVALIDO"}}}}}},"429":{"description":"#### <b>Excesso de requisições</b>\n"},"500":{"description":"#### <b>Erro interno do servidor</b>\nErros não mapeados na aplicação. Entrar em contato através da aba de suporte no Portal Developer.\n","content":{"application/json":{"schema":{"type":"object","example":{"codigo":"0","mensagem":"Erro não esperado ao executar o recurso"}}}}}}}}},"components":{"schemas":{"ResponseDTO":{"type":"object","properties":{"utilizaWebhook":{"maxLength":2,"type":"string","description":"Indicador de ativação do webhook - Permite usar 'S' ou 'N' ","example":"N"},"urlEnvio":{"maxLength":100,"type":"string","description":"URL para envio da notificação","example":"https://dominio.com.br/webhook"},"datahoraAtualizacao":{"type":"string","description":"Data hora de criação do cadastro do webhook"}}},"Error401Response":{"type":"object","example":{"Erro 1":{"description":"O header Authorization contendo o Bearer Token não foi enviado na requisição ou é inválido. Necessário o envio conforme orientado no Guia do Desenvolvedor.","value":{"code":"401","message":"O token não foi informado ou é inválido."}},"Erro 2":{"description":"O bearer token enviado no header Authorization não possui permissão (escopo da API) para consumo da API em questão. Necessário o envio de um token válido com a permissão (escopo da api) conforme orientado no Guia do Desenvolvedor","value":{"code":"401","message":"Acesso não autorizado"}},"Erro 3":{"description":"A requisição foi realizada sem o envio do certificado privado/público do requisitante para fechamento do MTLs. Necessário o envio do token com o par de certificados na request conforme orientado no Guia do Desenvolvedor","value":{"code":"401,","message":"Falha na autenticação mTLS"}}}},"Error500Response":{"type":"object","example":{"codigo":"0","mensagem":"Erro não esperado ao executar o recurso"}},"RequestDTO":{"required":["documento","tipoAviso","tipoCadastro","urlEnvio","utilizaWebhook","versaoLayout"],"type":"object","properties":{"documento":{"required":["controle","cpfCnpj","filial"],"type":"object","properties":{"cpfCnpj":{"maxLength":9,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Raiz CPF/CNPJ Beneficiário","example":"999999999"},"filial":{"maxLength":4,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Filial CPF/CNPJ do Beneficiário. Se CPF, filial = 0","example":"9999"},"controle":{"maxLength":2,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Dígito de Controle do CPF/CNPJ Beneficiário","example":"99"}}},"versaoLayout":{"maxLength":1,"pattern":"^[0-9]*$","type":"string","description":"Versão autal do layout de registro","example":"1"},"tipoCadastro":{"maxLength":1,"pattern":"^[I|A|C|E]$","type":"string","description":"I - Inclusão, A - Alteração, C - Consulta, E - Exclusão ","example":"I"},"utilizaWebhook":{"maxLength":2,"pattern":"^[S|N]$","type":"string","description":"Indicador de ativação do webhook - Permite usar 'S' ou 'N' ","example":"S"},"urlEnvio":{"maxLength":100,"type":"string","description":"URL para envio da notificação","example":"https://dominio.com.br/webhook"},"tipoAviso":{"maxLength":1,"type":"integer","description":"Tipo de Aviso","format":"int32"}},"description":"Objeto de requisição para cadastro de Webhook"},"Error400Response":{"type":"object","example":{"codigo":"1","mensagem":"Nao foi possivel processar as instrucoes contidas na requisicao","errosValidacao":{"campo":"Agencia","tipoRestricao":"EXACT_LENGTH","mensagem":"Numero de caracteres exatos nao atendidos","tamanhoMinimoEsperado":1,"tamanhoMaximoPermitido":5}}},"CpfCnpjVO":{"required":["controle","cpfCnpj","filial"],"type":"object","properties":{"cpfCnpj":{"maxLength":9,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Raiz CPF/CNPJ Beneficiário","example":"999999999"},"filial":{"maxLength":4,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Filial CPF/CNPJ do Beneficiário. Se CPF, filial = 0","example":"9999"},"controle":{"maxLength":2,"minLength":0,"pattern":"^[0-9]*$","type":"string","description":"Dígito de Controle do CPF/CNPJ Beneficiário","example":"99"}}},"Error422Response":{"type":"object","properties":{"codigo":{"type":"string","description":"CPF/CNPJ não autorização para registro do WebHook","example":"422"},"mensagem":{"type":"string","description":"Messagem do erro negocial","example":"CODIGO DE BARRAS INVALIDO"}}}}},"x-axway":{"serviceType":"rest","basePaths":["https://openapisandbox.prebanco.com.br"],"expired":false,"retirementDate":0,"corsEnabled":true,"deprecated":false,"availableSDK":{"ios-swift":"/discovery/sdk/b3b84a4a-5d9a-4e80-b6ba-65edbabaa656/ios-swift","android":"/discovery/sdk/b3b84a4a-5d9a-4e80-b6ba-65edbabaa656/android","nodejs":"/discovery/sdk/b3b84a4a-5d9a-4e80-b6ba-65edbabaa656/nodejs"},"apiResourceType":"oas30","id":"b3b84a4a-5d9a-4e80-b6ba-65edbabaa656","state":"published","accessGrantedDate":1744899320851,"tags":{"Boleto de Cobrança Convencional":["Esta API permite realizar o Registro de Boletos de Cobrança Convencional."],"deployment-platform":["github"],"has-swagger":["true"],"tipo-api":["comercial"],"infra":["on-premises"],"asset":["cobranca-simples"]}},"servers":[{"url":"https://openapisandbox.prebanco.com.br:443/boleto/cobranca-webhook/v1"}],"x-axway-security-mtls":true}